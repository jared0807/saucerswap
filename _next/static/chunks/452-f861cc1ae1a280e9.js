"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[452],{74102:function(e,t,i){i.d(t,{ZP:function(){return M},xA:function(){return _}});var s=i(85893),a=i(87357),n=i(39499),r=i.n(n),o=i(67294),l=i(76488),d=i(93803),u=i(58971),c=i(2834),p=i(20915),m=i(46695),h=i(49477),x=i(327),f=i(11163),v=i(45111),g=i(29217),S=i(87918),y=i(51233),D=i(65074),I=i(17210),C=i(15861),b=e=>{let{percentChange:t,sx:i,...a}=e;return(0,s.jsxs)(C.Z,{sx:{color:0===t?"unset":t>0?"custom.green":"error.main",...i},...a,children:[0===t?"":t>0?"+":"-",Math.abs(t).toFixed(2),"%"]})},j=i(22839),L=i(36640),U=i(9998),Z=i(22673),E=i(74800),O=i(3992),k=i(49004),P=i(43385),T=(0,o.memo)(e=>{let{token:t,variant:i}=e,{close:n,isOpen:r,open:o}=(0,O.Z)(),{settings:l,dispatchSettings:d}=(0,k.r)(),{acceptedRisksTokenIds:u}=l,p=u.includes(t.address),m=(0,f.useRouter)(),{liquidity:h,dailyVolume:x}=(0,D.c)(t.address,{notation:"compact"}),C=(0,c.TQ)(t.address),T=(0,D.j7)(t.address),A=(0,I.F$)(t.address)?"/swap/0.0.456858/HBAR":"/swap/HBAR/".concat(t.address),V=async()=>{d({type:"update",payload:{acceptedRisksTokenIds:[...u,t.address]}}),m.push(A),n()},w=C>0?g.Z:v.Z,H="mobile"===i?[{xs:4,title:(0,s.jsx)(S.Z,{className:"active",variant:"filled",color:0===C?"plain":C>0?void 0:"error",label:(0,s.jsxs)(a.Z,{display:"flex",flexDirection:"row",alignItems:"center",children:[0!==C&&(0,s.jsx)(w,{color:"inherit",sx:{ml:-2,mr:-1,my:-1}}),(0,s.jsx)(b,{fontSize:"inherit",fontFamily:"inherit",fontStyle:"inherit",percentChange:C,component:"span"})]})}),value:(0,j.T4)(T,P.Kt.USD,4)}]:[{xs:2,title:"Liquidity",value:h.fiat},{xs:2,title:"Volume (24h)",value:x.fiat},{xs:2,title:"Price",value:(0,j.T4)(T,P.Kt.USD,8)},{xs:2,title:"Change (24h)",value:(0,s.jsx)(b,{fontSize:"inherit",fontFamily:"inherit",fontStyle:"inherit",percentChange:C,component:"span"})}];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(L.Z,{variant:"desktop",actionAreaProps:{onClick:()=>{t.isExtended&&!p?o():m.push(A)},sx:{px:"mobile"===i?4:7}},gridItems:[{children:(0,s.jsx)(U.ZP,{token:t,isList:!0,hideChips:"mobile"===i}),gridProps:{xs:"mobile"===i?4:2.5,display:"flex",alignItems:"center"}},...H.map(e=>({children:(0,s.jsx)(y.Z,{direction:"column",spacing:2,children:(0,s.jsx)(L.o,{variant:"desktop",label:e.title,value:e.value,textAlign:"right"})}),gridProps:{xs:e.xs,sx:{display:"flex",alignItems:"flex-end",flexDirection:"column"}}})),{children:(0,s.jsx)(a.Z,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",height:1,children:(0,s.jsx)(Z.qk,{title:"Trade",href:A})}),gridProps:{xs:"mobile"===i?4:1.5}}],sx:{"& .MuiLink-root":{px:{xs:4,sm:7}}}}),t.isExtended&&!p&&(0,s.jsx)(E.l,{isOpen:r,onClose:n,onAccept:V,token:t})]})}),A=i(57978),V=i(92441);let w=[{value:"All",activeColor:"custom.green"},{value:"Default",activeColor:"custom.grey"},{value:"Extended",activeColor:"custom.extended"},{value:"Hashport",activeColor:"custom.hashport"}],H=[{title:"Symbol",function:function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V.S.ASC;return(e.symbol<=t.symbol?1:-1)*i}},{title:"Liquidity",function:(0,V.O)("address","liquidityOrder")},{title:"Volume (24h)",function:(0,V.O)("address","dailyVolumeOrder")},{title:"Price",function:function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V.S.ASC;return(r().greaterThan(e.price,t.price)?1:-1)*i}},{title:"Change (24h)",function:(0,V.O)("address","priceChangeOrder")}];function M(e){let{shouldRender:t}=e,[i,n]=(0,o.useState)("All"),[r,l]=(0,o.useState)(""),[d,u]=(0,o.useState)("Liquidity"),[c,p]=(0,o.useState)(V.S.DESC);return(0,s.jsxs)(a.Z,{display:"flex",flexDirection:"column",children:[(0,s.jsx)(x.Z,{displayValue:i,onDisplayValueChange:n,sort:d,onSortChange:u,sortOptions:H.map(e=>({label:e.title,value:e.title})),sortDirection:c,onSortDirectionChange:p,onSearch:l,buttonGroupOptions:w.map(e=>({...e,label:e.value,buttonProps:{sx:{py:{xs:2,sm:2.5},px:{xs:2,sm:4}}}}))}),(0,s.jsx)(a.Z,{mt:4,children:t?(0,s.jsx)(R,{sort:d,sortDirection:c,search:r,tokensDisplay:i}):(0,s.jsx)(A.Z,{shapeVariant:"narrow",skeletonCount:8})})]})}let R=e=>{let{sort:t,sortDirection:i,search:a,tokensDisplay:n}=e,{isSmallList:r}=(0,m.l)(),{data:l=[]}=(0,d.v)(),{data:u=[]}=(0,p.ZP)(!0),{orders:c,isLoading:x}=_(),f=(0,o.useMemo)(()=>{if(x)return[];let e=H.find(e=>e.title===t).function;return("Hashport"===n?l:u.filter(e=>!("HBAR"===e.symbol&&!(0,I.Ax)(e.address))&&("Default"!==n||e.isDefault)&&("Extended"!==n||e.isExtended))).sort((t,s)=>e(t,s,i,c))},[l,t,c,u,n,x]),v=(0,o.useMemo)(()=>{let e=a.trim(),t=e?RegExp(encodeURIComponent(e),"i"):void 0;return f?f.filter(i=>!t||t.test(i.symbol)||t.test(i.name)||i.solidityAddress===e.toLowerCase()||t.test(i.address)):f},[f.map(e=>e.address),a]);return x?(0,s.jsx)(A.Z,{shapeVariant:"narrow",skeletonCount:8}):(0,s.jsx)(h.Z,{resetDisplayDependencies:[t,n,a,r],items:v.map(e=>(0,s.jsx)(T,{token:e,variant:r?"mobile":"desktop"},e.address))})},_=()=>{let{data:e=[],isLoading:t}=(0,p.ZP)(!0),{data:i,isLoading:s}=(0,l.Z)(),{data:a,isLoading:n}=(0,c.ZP)(),{data:r={}}=(0,u.T)("FIVEMIN");return{orders:{dailyVolumeOrder:e.map(e=>({identifier:e.address,value:Number((null==i?void 0:i[e.address])||0)})).reduce((e,t)=>(e[t.identifier]=t.value,e),{}),priceChangeOrder:e.map(e=>({identifier:e.address,value:Number((null==a?void 0:a[e.address])||0)})).reduce((e,t)=>(e[t.identifier]=t.value,e),{}),liquidityOrder:e.map((e,t)=>{var i;let s=null===(i=r[e.address])||void 0===i?void 0:i.liquidityUsd;return{identifier:e.address,value:s||0}}).reduce((e,t)=>(e[t.identifier]=t.value,e),{})},isLoading:t||s||n}}},30773:function(e,t,i){i.d(t,{J1:function(){return o},TS:function(){return r},_s:function(){return g}});var s,a,n,r,o,l,d=i(17e3),u=i(67294),c=i(618),p=i(13657),m=i(70178),h=i.n(m),x=i(27484),f=i.n(x);f().extend(h()),(s=r||(r={})).LIQUIDITY="LIQUIDITY",s.VOLUME="VOLUME",s.LIQUIDITY_USD="LIQUIDITY_USD",s.VOLUME_USD="VOLUME_USD",(a=o||(o={})).HOUR="HOUR",a.DAY="DAY",a.WEEK="WEEK",(n=l||(l={})).V1="/pools",n.V2="/v2/pools",n.ALL="/stats";let v=(e,t,i,s,a,n)=>{let[r]=(0,u.useState)(new Date(0)),o=(0,p.Z)("FIVEMIN"),l="v1"===i?"/pools":"v2"===i?"/v2/pools":"/stats",m=s||r,h=a||o;return(0,d.a)(["platformData",e,t,i,m,h],async()=>{let i=new URL("".concat(c.z7).concat(l,"/platform-data"));i.searchParams.append("field",e),i.searchParams.append("interval",t),i.searchParams.append("from",Math.round(m.getTime()/1e3).toString()),i.searchParams.append("to",Math.round(h.getTime()/1e3).toString());let s=await fetch(i.toString()),a=(await s.json()).map(e=>({valueHbar:parseInt(e.valueHbar),value:parseInt(e.value),timestampSeconds:e.timestampSeconds})),n=[],r=0;for(let e=parseInt(a[0].timestampSeconds);e<=parseInt(a[a.length-1].timestampSeconds);e+=p.Q[t])parseInt(a[r].timestampSeconds)===e?(n.push(a[r]),r++):n.push({timestampSeconds:e.toString(),valueHbar:0,value:0});return console.debug("FETCHED /platform-data SUCCESSFULLY"),n},{...n,staleTime:3e5})},g=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",{data:i=[]}=v("LIQUIDITY_USD","HOUR",t,new Date((f().utc().subtract(24,"hour").endOf("hour").unix()-1)*1e3));return(null===(e=i[i.length-1])||void 0===e?void 0:e.value)||0};t.ZP=v}}]);