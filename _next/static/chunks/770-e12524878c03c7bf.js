"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[770],{56033:function(e,t,n){var r,a=n(67294);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return a.createElement("svg",o({viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=a.createElement("path",{d:"M8.65 1A.65.65 0 0 0 8 .35H2.15a.65.65 0 0 0 0 1.3h5.2v5.2a.65.65 0 0 0 1.3 0V1ZM1.46 8.46l7-7-.92-.92-7 7 .92.92Z",fill:"#6AFF52"})))}},56744:function(e,t,n){var r,a,o=n(67294);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return o.createElement("svg",s({className:"circle_checkmark_svg__checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},e),r||(r=o.createElement("circle",{className:"circle_checkmark_svg__checkmark__circle",cx:26,cy:26,r:25,fill:"none"})),a||(a=o.createElement("path",{className:"circle_checkmark_svg__checkmark__check",fill:"none",d:"m14.1 27.2 7.1 7.2 16.7-16.8"})))}},93140:function(e,t,n){var r=n(85893),a=n(21737),o=n(87357),s=n(15861);t.Z=e=>{let{icon:t,onClick:n,text:i,sx:c,...l}=e;return(0,r.jsx)(a.Z,{className:"fullWidth",icon:!1,variant:"warning",...l,sx:{borderRadius:"7px",cursor:"pointer","&:hover":{opacity:.8},...c},onClick:n,children:(0,r.jsxs)(o.Z,{alignItems:"center",display:"flex",justifyContent:"center",children:[!!t&&(0,r.jsx)(t,{height:"24"}),(0,r.jsx)(s.Z,{color:"custom.green",ml:2,children:i})]})})}},19744:function(e,t,n){var r=n(85893),a=n(2817),o=n(51233),s=n(67294),i=n(49004),c=n(3992),l=n(93140),d=n(51147),u=n(85232),p=n(8332),x=n(76251);let h=()=>(0,r.jsx)(a.Z,{color:"primary"});t.Z=e=>{let{settings:{userWallet:t},dispatchSettings:n}=(0,i.r)(),{close:a,isOpen:m,open:j}=(0,c.Z)();(0,s.useEffect)(()=>{t&&a()},[a,t]);let{openToc:f,acceptedToc:g,termsAndConditionsProps:Z}=(0,d.z)(j);return t?(0,r.jsx)(r.Fragment,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{...Z}),(0,r.jsx)(x.Z,{onClose:a,open:m,title:"Pair Wallet",disableScrollLock:!0,children:(0,r.jsxs)(o.Z,{spacing:4,children:[(0,r.jsx)(p.Z,{}),(0,r.jsx)(u.j,{})]})}),(0,r.jsx)(l.Z,{icon:h,onClick:()=>{g?j():f()},text:"Pair Wallet to Start",...e})]})}},90983:function(e,t,n){n.d(t,{Z:function(){return f}});var r,a=n(85893),o=n(87357),s=n(15861),i=n(93946),c=n(49004),l=n(3992),d=n(67294);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e){return d.createElement("svg",u({viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 6.024v1.612h1.612L6.28 2.927 4.667 1.315 0 6.025Zm7.51-4.327a.41.41 0 0 0 0-.594L6.532.127a.41.41 0 0 0-.594 0l-.763.764 1.612 1.612.721-.806Z",fill:"#33BA2B"})))},x=n(4002),h=n(15386),m=n(56372),j=n(79786),f=e=>{let{...t}=e,{settings:n}=(0,c.r)(),{close:r,isOpen:d,open:u}=(0,l.Z)();return(0,a.jsxs)(h.Z,{...t,children:[(0,a.jsxs)(o.Z,{alignItems:"center",display:"flex",...t,children:[(0,a.jsx)(s.Z,{color:"custom.green",children:"Slippage "}),(0,a.jsx)(i.Z,{onClick:()=>u(),sx:{path:{fill:e=>e.palette.custom.green}},children:(0,a.jsx)(p,{height:"10"})})]}),(0,a.jsx)(s.Z,{color:"custom.green",children:(0,j.T)({value:(0,x.ZH)((null==n?void 0:n.slippage)||.01)})}),(0,a.jsx)(m.D,{onClose:r,isOpen:d})]})}},90056:function(e,t,n){n.d(t,{RC:function(){return eE},Ig:function(){return eT}});var r=n(85893),a=n(45111),o=n(56863),s=n(11057),i=n(34386),c=n(51233),l=n(15861),d=n(16078),u=n(50294),p=n(90629),x=n(41796),h=n(23926),m=n(84118),j=n(18972),f=n(87669),g=n(39499),Z=n.n(g),v=n(67294),w=n(57843),k=n(17e3),y=n(618);let S=(e,t)=>(0,k.a)(["accountMaxAutomaticTokenAssociations",e],async()=>{if(!e)return 0;let t=await fetch("".concat(y.Wm,"/accounts/").concat(e));return(await t.json()).max_automatic_token_associations},{...t}),b=e=>{let{data:t=0}=S(e),{data:n=0}=(0,w.xM)(e);return t-n},C=[],I=(e,t)=>(0,k.a)(["accountTokenApprovals",e],async()=>{var t,n;if(!e)return C;let r=await fetch("".concat(y.Wm,"/accounts/").concat(e,"/allowances/tokens?limit=100"));if(404===r.status)return C;let a=await r.json(),o=[...a.allowances],s=0;for(;null===(t=a.links)||void 0===t?void 0:t.next;){if(s>50){console.error("Too many token approvals to handle, failing quietly");break}let e=null===(n=a.links)||void 0===n?void 0:n.next,t=await fetch("".concat(y.Wm,"/").concat(e.replace("/api/v1/","")));a=await t.json(),o.push(...a.allowances),s++}return o.map(e=>({owner:e.owner,spender:e.spender,amount:e.amount_granted,tokenId:e.token_id,timestamps:{from:e.timestamp.from,to:e.timestamp.to}}))},{...t});var A=n(38827),T=n(49004),E=n(3992),_=n(55703),F=n(17210),N=n(94986),M=n(72833),R=n(19744),O=n(2734),W=n(98396),P=n(87357),B=n(23795),D=n(72882),q=n(7906),z=n(53184),H=n(53816),L=n(53252),U=n(295),Y=n(56033),G=n(56744),K=n(27407),Q=n(90983),V=n(3984),$=n(51115),J=n(82846),X=n(58442),ee=n(51182),et=n(31221),en=n(19446),er=n(93946),ea=n(4878);let eo=e=>{let{settings:{userWallet:t}}=(0,T.r)();return()=>{if(!t)throw Error("No active account");return{type:_.R.AccountAllowanceApproveTransaction,...e}}};var es=(e,t)=>{let n=["signTransaction","accountAllowanceApprove",e.tokenId],r=eo(e),a=(0,ea.Z)(n,t,r);return{type:_.R.AccountAllowanceApproveTransaction,key:n,metadata:e,...a}};let ei=e=>{let{settings:{userWallet:t}}=(0,T.r)();return()=>{if(!t)throw Error("No active account");return{type:_.R.TokenAssociateTransaction,...e}}};var ec=(e,t)=>{let n=["signTransaction","associateToken",e.tokenId],r=ei(e),a=(0,ea.Z)(n,t,r);return{type:_.R.TokenAssociateTransaction,key:n,metadata:{tokenId:e.tokenId},...a}};let el=e=>{let{settings:{userWallet:t}}=(0,T.r)();return()=>{if(!t)throw Error("No active account");return{type:_.R.AccountUpdateTransaction,value:{function:"setMaxAutomaticTokenAssociations",value:e.numSlots}}}};var ed=(e,t)=>{let n=["signTransaction","setMaxAutomaticTokenAssociations"],r=el(e),a=(0,ea.Z)(n,t,r);return{type:_.R.AccountUpdateTransaction,key:n,...a}},eu=n(91402);let ep=e=>{let{smartContractMutation:t}=e,n="error"!==t.status;return(0,r.jsx)(L.Z,{children:(0,r.jsx)(er.Z,{disabled:n,sx:{path:{color:e=>n?e.palette.custom.grey:void 0}},onClick:()=>{t.mutate(void 0)},children:(0,r.jsx)(en.Z,{sx:{rotate:"-50deg"}})})})},ex=e=>{let{smartContractMutation:t,defaultDescription:n}=e,{error:a}=t,o=a?"string"==typeof a?a:a.message?a.message:JSON.stringify(a,null,2):"",s=o.match(/\b\d+\.\d+\.\d+@\d+\.\d+\b/);return(0,r.jsx)(L.Z,{children:(0,r.jsxs)(c.Z,{gap:2,sx:{maxHeight:200},children:[(0,r.jsx)(l.Z,{children:(null==t?void 0:t.description)||n||""}),t.isError&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.Z,{color:"error.main",fontWeight:600,children:["Error:"," ",(0,r.jsx)(l.Z,{color:"error.main",component:"span",children:o})]}),s&&(0,r.jsx)(P.Z,{children:(0,r.jsxs)(B.Z,{color:"error.main",href:(0,K.Kh)($.az.fromString(s[0])),target:"_blank",fontSize:14,children:["View on HashScan",(0,r.jsx)(l.Z,{component:"span",ml:"10px",sx:e=>({path:{fill:e.palette.error.main}}),children:(0,r.jsx)(Y.Z,{width:"10px"})})]})})]})]})})},eh=e=>{let{smartContractMutation:t}=e,n=(0,O.Z)(),a=(0,W.Z)(n.breakpoints.down(550));return(0,r.jsx)(L.Z,{className:"no-wrap",children:(0,r.jsxs)(c.Z,{direction:a?"column":"row",alignItems:"center",flexWrap:"nowrap",gap:1,children:["idle"===t.status&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(J.Z,{color:"secondary"}),(0,r.jsx)(l.Z,{color:"secondary",noWrap:!0,whiteSpace:"nowrap",children:"Queued"})]}),"loading"===t.status&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(et.Z,{color:"warning"}),(0,r.jsx)(l.Z,{color:"warning.main",noWrap:!0,whiteSpace:"nowrap",children:"Pending..."})]}),"success"===t.status&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(X.Z,{color:"success"}),(0,r.jsx)(l.Z,{color:"success",noWrap:!0,whiteSpace:"nowrap",children:"SUCCESS"})]}),"error"===t.status&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ee.Z,{color:"error"}),(0,r.jsx)(l.Z,{color:"error",noWrap:!0,whiteSpace:"nowrap",children:"ERROR"})]})]})})},em=e=>{let{txIndex:t,mutationOptions:n,data:a,hook:o}=e,s=eZ(o,a,t,n),i=(0,O.Z)(),c=(0,W.Z)(i.breakpoints.down(550));return(0,r.jsxs)(r.Fragment,{children:[!c&&(0,r.jsx)(L.Z,{className:"no-wrap",children:(0,r.jsx)(l.Z,{noWrap:!0,whiteSpace:"nowrap",children:s.metadata.contractId})}),(0,r.jsx)(ex,{smartContractMutation:s,defaultDescription:"Calling Contract"}),(0,r.jsx)(eh,{smartContractMutation:s}),(0,r.jsx)(ep,{smartContractMutation:s})]})},ej=e=>{let{txIndex:t,mutationOptions:n,data:a}=e,o=eZ(ec,a,t,n),{data:s}=(0,A.Z)(o.metadata.tokenId),i=(0,O.Z)(),c=(0,W.Z)(i.breakpoints.down(550));return(0,r.jsxs)(r.Fragment,{children:[!c&&(0,r.jsx)(L.Z,{className:"no-wrap",children:(0,r.jsx)(l.Z,{noWrap:!0,whiteSpace:"nowrap",children:null==s?void 0:s.token_id})}),(0,r.jsx)(ex,{smartContractMutation:o,defaultDescription:s?"Associate Token ".concat(s.name):void 0}),(0,r.jsx)(eh,{smartContractMutation:o}),(0,r.jsx)(ep,{smartContractMutation:o})]})},ef=e=>{let{txIndex:t,mutationOptions:n,numSlots:a}=e,{hbarAddress:o}=(0,M.O)(),s=eZ(ed,{numSlots:a},t,n),i=(0,O.Z)(),c=(0,W.Z)(i.breakpoints.down(550));return(0,r.jsxs)(r.Fragment,{children:[!c&&(0,r.jsx)(L.Z,{className:"no-wrap",children:(0,r.jsx)(l.Z,{noWrap:!0,whiteSpace:"nowrap",children:o})}),(0,r.jsx)(ex,{smartContractMutation:s,defaultDescription:"Increase automatic token associations"}),(0,r.jsx)(eh,{smartContractMutation:s}),(0,r.jsx)(ep,{smartContractMutation:s})]})},eg=e=>{var t,n;let{txIndex:a,mutationOptions:o,data:s}=e,i=eZ(es,s,a,o),{data:c}=(0,A.Z)(i.metadata.tokenId),d=Z().exponentiate(Z().BigInt(10),Z().BigInt(null!==(n=null==c?void 0:c.decimals)&&void 0!==n?n:"0")),u=new eu.iA((null===(t=i.metadata)||void 0===t?void 0:t.amount)||1,1).divide(d),p=(0,O.Z)(),x=(0,W.Z)(p.breakpoints.down(550));return(0,r.jsxs)(r.Fragment,{children:[!x&&(0,r.jsx)(L.Z,{className:"no-wrap",children:(0,r.jsx)(l.Z,{noWrap:!0,whiteSpace:"nowrap",children:(null==c?void 0:c.token_id)||i.metadata.tokenId})}),(0,r.jsx)(ex,{smartContractMutation:i,defaultDescription:i.metadata.maxAmount?"Grant max approval for ".concat(null==c?void 0:c.name):"Grant approval for ".concat(u.toFixed(3)," ").concat((null==c?void 0:c.name)||(i.metadata.isNft?"SS NFT":"Unknown Token"))}),(0,r.jsx)(eh,{smartContractMutation:i}),(0,r.jsx)(ep,{smartContractMutation:i})]})},eZ=(e,t,n,r)=>{let{transactionSeriesState:{onFinalSuccess:a,totalTransactionsToComplete:o},transactionSeriesDispatch:s}=(0,v.useContext)(ew),i=async(e,t,i)=>{var c;await (null==r?void 0:null===(c=r.onSuccess)||void 0===c?void 0:c.call(r,e,t,i)),s({type:"updateTransactionSeries",payload:{lastSuccessfulTxIndex:n,lastSuccessfulTxId:e.transactionId}}),n===o-1&&a(e)},c=e(t,{...r,onSuccess:i}),{transactionSeriesState:{lastSuccessfulTxIndex:l}}=(0,v.useContext)(ew);return(0,v.useEffect)(()=>{c.isIdle&&l===n-1&&c.mutate(void 0)},[c.isIdle,n,l]),c},ev={lastSuccessfulTxIndex:-1,lastSuccessfulTxId:void 0,onFinalSuccess:()=>{},totalTransactionsToComplete:0},ew=(0,v.createContext)({transactionSeriesState:ev,transactionSeriesDispatch:()=>{}}),ek=e=>{let{children:t,initialState:n}=e,[a,o]=(0,v.useReducer)((e,t)=>{switch(t.type){case"resetTransactionSeries":return ev;case"updateTransactionSeries":return Object.assign({},e,t.payload);default:return e}},{...ev,...n});return(0,r.jsx)(ew.Provider,{value:{transactionSeriesState:a,transactionSeriesDispatch:o},children:t})},ey=e=>{let{title:t,isOpen:n,onClose:a,transactionSeriesRows:o,allowSlippageModification:i}=e,d=(0,O.Z)(),{transactionSeriesState:{lastSuccessfulTxIndex:u,lastSuccessfulTxId:p}}=(0,v.useContext)(ew),h=(0,W.Z)(d.breakpoints.down(550)),m=u>=o.length-1;return(0,r.jsx)(V.Z,{onClose:a,open:n,onClick:e=>e.stopPropagation(),transitionDuration:{enter:500,exit:150},sx:{"& .MuiPaper-root":{pt:3,backgroundColor:"custom.black",borderColor:"custom.mediumGrey"},"& .MuiPaper-root.MuiDialog-paper.MuiDialog-paperScrollBody":{minWidth:{xs:"95vw",sm:"inherit"},mx:0}},children:(0,r.jsxs)(r.Fragment,{children:[m&&(0,r.jsxs)(c.Z,{alignItems:"center",spacing:3,mx:{xs:4,sm:17},mb:6,children:[(0,r.jsx)(P.Z,{sx:{svg:{path:{stroke:e=>e.palette.custom.green}}},children:(0,r.jsx)(G.Z,{})}),(0,r.jsx)(l.Z,{sx:{fontWeight:500,fontSize:16,mt:1},children:t}),p&&(0,r.jsxs)(B.Z,{color:"custom.green",href:(0,K.Kh)(p),target:"_blank",fontSize:14,sx:{py:2,px:6,display:"flex",justifyContent:"center",border:"1px solid",borderColor:(0,x._j)(d.palette.custom.green,.5),borderRadius:"7px"},children:[(0,r.jsx)(l.Z,{color:"custom.green",fontSize:14,mr:2,children:"View Transaction"}),(0,r.jsx)(l.Z,{component:"span",sx:{path:{fill:e=>e.palette.custom.green}},children:(0,r.jsx)(Y.Z,{width:10})})]}),(0,r.jsx)(s.Z,{onClick:a,children:(0,r.jsx)(l.Z,{fontSize:13,color:(0,x.$n)(d.palette.custom.grey,.4),children:"close"})})]}),(0,r.jsx)(D.Z,{sx:{display:m?"none":void 0,thead:{th:{border:"none"}},tbody:{td:{borderBottom:"1px solid",borderColor:"custom.darkGrey"}}},children:(0,r.jsxs)(q.Z,{children:[(0,r.jsxs)("colgroup",{children:[!h&&(0,r.jsx)("col",{width:"0%"}),(0,r.jsx)("col",{width:"100%"}),(0,r.jsx)("col",{width:"0%"}),(0,r.jsx)("col",{width:"0%"})]}),(0,r.jsx)(z.Z,{children:(0,r.jsxs)(H.Z,{children:[!h&&(0,r.jsx)(L.Z,{children:(0,r.jsx)(l.Z,{textAlign:"left",children:"Contract ID"})}),(0,r.jsx)(L.Z,{children:(0,r.jsx)(l.Z,{textAlign:"left",children:"Description"})}),(0,r.jsx)(L.Z,{children:(0,r.jsx)(l.Z,{textAlign:"left",children:"Status"})}),(0,r.jsx)(L.Z,{children:(0,r.jsx)(l.Z,{textAlign:"center",children:"Retry"})})]})}),(0,r.jsx)(U.Z,{children:o.map((e,t)=>(0,r.jsx)(H.Z,{children:e},t))})]})}),!m&&i&&(0,r.jsx)(P.Z,{mt:2,children:(0,r.jsx)(Q.Z,{})})]})})};var eS=n(76735),eb=n(14789),eC=n(35351),eI=n(74721);let eA=e=>{let{children:t,errorMessage:n,message:g,tokensToAssociate:k,tokensToApprove:C,enableSetMaxTokenAssociations:O,smartContractBuilders:W,onClickInterceptor:P,onFinalSuccess:B,fullWidth:D,allowSlippageModification:q,...z}=e,[H,L]=(0,v.useState)(!1),[U,Y]=(0,v.useState)(!1),[G,K]=(0,v.useState)([]),[Q,V]=(0,v.useState)(!1),$=(0,v.useRef)(null),{hbarAddress:J}=(0,M.O)(),{settings:{userWallet:X}}=(0,T.r)(),{isOpen:ee,close:et,open:en}=(0,E.Z)(),{transactionSeriesState:{lastSuccessfulTxIndex:er},transactionSeriesDispatch:ea}=(0,v.useContext)(ew),{data:eo=[]}=(0,w.aE)(k),{data:es=0}=S(J),ei=b(J),{data:ec}=I(J),{isSuccess:el}=(0,w.ZP)(J,{enabled:!!J}),ed=eo.map(e=>e.address),eu=(0,f.h)({queries:(C||[]).filter(e=>!e.isNft).map(e=>e.tokenId).map(e=>({queryKey:["mirrorToken",e.toString()],queryFn:()=>(0,A.h)(e)}))}),ep=(null==X?void 0:X.type)==="metamask",ex=(0,v.useMemo)(()=>eu.map(e=>e.data).filter(e=>!!e).reduce((e,t)=>(e[t.token_id]="INFINITE"===t.supply_type?ep?1e16:_.j:Z().toNumber(Z().BigInt(t.max_supply)),e),{}),[eu]),{switchChain:eh,derivedState:{networkChain:eZ}}=(0,N.U)(),ev=(0,v.useMemo)(()=>(C||[]).filter(e=>{if((0,F.F$)(e.tokenId))return!1;let t=null==ec?void 0:ec.find(t=>t.tokenId===e.tokenId&&t.spender===e.spenderAccountId);return!t||!ex[e.tokenId]||!(t.amount>=ex[e.tokenId])}),[ex,ec,C]),ek=(0,v.useCallback)(()=>{let e=[],t=-1;return e.push(...ev.map(e=>(t+=1,(0,r.jsx)(eg,{txIndex:t,data:{tokenId:e.tokenId,spenderAccountId:e.spenderAccountId,maxAmount:H,amount:H&&ex[e.tokenId]?ex[e.tokenId]:e.amount,isNft:e.isNft}},e.tokenId)))),y.qt&&O&&ei<1&&(t+=1,e.push((0,r.jsx)(ef,{txIndex:t,numSlots:es+1}))),ed.length&&e.push(...ed.map(e=>(t+=1,(0,r.jsx)(ej,{txIndex:t,data:{tokenId:e}},e)))),e.push(...W.map(e=>(t+=1,(0,r.jsx)(em,{txIndex:t,data:e.data,hook:e.hook},t)))),e},[ev,ed,W,ex,O,ei,H,es]);(0,v.useEffect)(()=>{ea({type:"updateTransactionSeries",payload:{onFinalSuccess:B}})},[B,ea]),(0,v.useEffect)(()=>{-1===er&&V(ev.length>0)},[er,ev.length]),(0,v.useEffect)(()=>{ea({type:"updateTransactionSeries",payload:{lastSuccessfulTxIndex:-1}})},[ee]);let eA=async()=>{let e=!0;if(P&&(e=await P()),e){let e=ek();V(ev.length>0),K(e),ea({type:"updateTransactionSeries",payload:{totalTransactionsToComplete:e.length}}),en()}};return X?(0,r.jsxs)(r.Fragment,{children:[(null==X?void 0:X.type)==="metamask"&&eZ!==eC.Ag?(0,r.jsx)(eT,{sx:null==z?void 0:z.sx}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.Z,{disableElevation:!0,variant:"contained",fullWidth:null==D||D,...z,sx:{display:"flex",justifyContent:"center","& > button":{"&:first-of-type":Q?{width:D?void 0:"unset"}:{},"&:not(:first-of-type)":{width:"unset",minWidth:50}},...z.sx},disabled:!!n||!el||(null==z?void 0:z.disabled),children:[(0,r.jsx)(s.Z,{onClick:eA,sx:{px:3},children:n||(0,r.jsxs)(r.Fragment,{children:[Q?H?"Approve (max) & ":"Approve & ":null,t,Q&&(0,r.jsx)(i.Z,{PopperProps:{onClick:e=>{e.stopPropagation()},onMouseDown:e=>{e.stopPropagation()}},title:(0,r.jsx)(c.Z,{gap:2,children:(0,r.jsxs)(l.Z,{fontSize:"14px",children:["SaucerSwap requires your approval to execute this transaction on your behalf.",(0,r.jsxs)(eb.C,{href:"https://medium.com/@SaucerSwap/hedera-network-security-update-saucerswap-8d2609b43e20",children:[" ","Learn more"]})]})}),sx:{marginLeft:"5px",fontSize:"16px"},children:(0,r.jsx)(eI.Z,{fontSize:"inherit"})})]})}),!n&&Q&&(0,r.jsx)(s.Z,{ref:$,onClick:()=>{Y(!U)},children:(0,r.jsx)(a.Z,{})})]}),(0,r.jsx)(d.Z,{open:U,anchorEl:$.current,transition:!0,placement:"bottom-end",sx:{zIndex:2e3},children:e=>{let{TransitionProps:t,placement:n}=e;return(0,r.jsx)(u.Z,{...t,style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:(0,r.jsx)(p.Z,{sx:e=>({maxWidth:300,pt:0,backdropFilter:"blur(12px)",backgroundColor:(0,x.Fq)((0,x._j)(e.palette.custom.dialogBackground,0),.5),borderRadius:1}),children:(0,r.jsx)(h.Z,{onClickAway:()=>Y(!1),children:(0,r.jsxs)(m.Z,{autoFocusItem:!0,children:[(0,r.jsx)(j.Z,{sx:e=>({...(0,eS.E)(e),textAlign:"left",whiteSpace:"normal",pt:3,pb:2}),selected:!H,onClick:()=>{L(!1),Y(!1)},children:(0,r.jsxs)(c.Z,{gap:2,mb:2,children:[(0,r.jsx)(l.Z,{children:"One-time Approval"}),(0,r.jsx)(l.Z,{color:"custom.grey",children:"You will give your approval to perform this transaction on your behalf."})]})}),(0,r.jsx)(j.Z,{sx:e=>({...(0,eS.E)(e),textAlign:"left",whiteSpace:"normal",pt:3,pb:2}),selected:H,onClick:()=>{L(!0),Y(!1)},children:(0,r.jsxs)(c.Z,{gap:2,mb:2,children:[(0,r.jsx)(l.Z,{children:"Max Approval"}),(0,r.jsx)(l.Z,{color:"custom.grey",children:"You will not need to give your approval next time you want to perform this transaction."})]})})]})})})})}})]}),(0,r.jsx)(ey,{title:g,transactionSeriesRows:G,isOpen:ee,onClose:et,allowSlippageModification:q})]}):(0,r.jsx)(R.Z,{sx:null==z?void 0:z.sx})},eT=e=>{let{...t}=e,{settings:{userWallet:n}}=(0,T.r)(),{switchChain:a,derivedState:{networkChain:o}}=(0,N.U)();return(null==n?void 0:n.type)==="metamask"&&o!==eC.Ag?(0,r.jsx)(s.Z,{variant:"contained",onClick:async()=>{await a(eC.Ag)},sx:null==t?void 0:t.sx,children:"Switch to Hedera Network"}):null},eE=e=>(0,r.jsx)(ek,{children:(0,r.jsx)(eA,{...e})})},67655:function(e,t,n){n.d(t,{_L:function(){return h},bY:function(){return x},gd:function(){return m}});var r=n(39499),a=n.n(r);n(75472);var o=n(65074),s=n(4002),i=n(618),c=n(17210),l=n(91402),d=n(47808),u=n(3422),p=n(22839);n(9358);let x=(e,t)=>e?Number(e.multiply(new l.iA(a().BigInt(Math.round(Number(t))),10**o.v9)).toExact()):0,h=(e,t)=>{let[n,r,a,s]=["amount0","amount1","amount0Rounded","amount1Rounded"].map(t=>{let n=e[t];return n.asFraction.multiply(n.currency.price).divide(10**n.currency.decimals)}),i=a.add(s),c=l.ih.fromFractionalAmount(o.k3,i.numerator,i.denominator),x=n.add(r),h=t?(0,p.OK)(c.greaterThan(d.xE),(0,u.iS)(l.ih.fromFractionalAmount(o.k3,x.numerator,x.denominator),t).toFixed(2),p.xG):"-";return{totalHbar:c,amountUsd:h}},m=(e,t)=>{let n=t.multiply((0,s.ZH)(e)),r=n.greaterThan(t)?t:n;if((0,c.F$)(r.currency.address)&&t.greaterThan(i.qn)&&t.subtract(r).lessThan(i.qn)){let e=(0,s.nq)(o.k3.decimals,i.qn),n=l.ih.fromRawAmount(o.k3,e);r=t.subtract(n)}return r}},27407:function(e,t,n){n.d(t,{Kh:function(){return o}});var r=n(618);let a=e=>{let{accountId:t,validStart:n}=e;return"".concat(t,"-").concat(null==n?void 0:n.seconds,"-").concat(null==n?void 0:n.nanos)},o=e=>"".concat(r.lT,"/transactionsById/").concat(a(e))},4878:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(85945),a=n(48228),o=n(55703),s=n(72833),i=n(17e3),c=n(39499),l=n.n(c),d=n(47808),u=n(618),p=n(57843),x=(e,t)=>{var n;let{data:r={tokens:[],hbars:d.xE}}=(0,p.ZP)(e);return(0,i.a)(["nftHolder",e,r.tokens],async()=>{let e=r.tokens.filter(e=>u.Nj.includes(e.tokenId)&&l().greaterThan(e.balance,d.xE));return 0===u.Nj.length||e.length>0},{initialData:!0,...t,enabled:(null===(n=null==t?void 0:t.enabled)||void 0===n||n)&&!!e&&!!r.tokens.length})},h=n(70794),m=n(65074),j=n(22238),f=n(16114);let g=(0,h.Z)(852),Z=(e,t)=>(0,h.Z)(e).multipliedBy(g).div(t);var v=(e,t,n)=>{let{hbarAddress:i,processTxn:c}=(0,s.O)(),{data:l}=x(i),d=(0,r.NL)(),{refetch:u}=(0,p.DX)(i),{data:g}=(0,j.Z)(m.k3.address),{data:v}=(0,f.Z)();return(0,a.D)(e,async e=>{let t=e;if(e&&n)throw Error("You cannot pass contractProps if getContractProps() is defined");if(!e&&n)t=null==n?void 0:n();else throw Error("You must pass either contractProps or getContractProps()");if(!l&&t.type===o.R.ContractExecuteTransaction)throw Error("Access is currently restricted to NFT holders");if(t.type===o.R.ContractExecuteTransaction&&(0,h.Z)(g.numerator.toString()).isLessThan((t.payable||(0,h.Z)(0)).plus(Z(t.gas,v))))throw Error("Your account has an insufficient HBAR balance to pay the Hedera network transaction fee");let{data:r,transactionId:a}=await c({transactionData:t});return{data:t,returnData:r,transactionId:a}},{...t,onSuccess:async(e,n,r)=>{var a;await (null==t?void 0:null===(a=t.onSuccess)||void 0===a?void 0:a.call(t,e,n,r)),u().then(t=>{d.setQueryData(["accountBalance",i],t.data),e.data.type===o.R.AccountAllowanceApproveTransaction&&d.invalidateQueries(["accountTokenApprovals",i])})}})}}}]);