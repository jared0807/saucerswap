"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[445],{2730:function(e,t,i){var n,s,a=i(67294);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}t.Z=function(e){return a.createElement("svg",o({width:17,height:17,fill:"inherit",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=a.createElement("path",{d:"M9.848.844c-2.118.012-4.51.487-6.84 1.09-.116 1.132.073 2.288.465 3.461C6.015 2.521 13.07 1.488 16.16 4.25 15.14 1.676 12.75.826 9.848.844ZM2.18 2.04l-1.253.317c.62 8.576 6.935 7.183 10.926 13.862l1.641-.005c-2.017-3.722-4.904-4.663-7.26-6.187a11.57 11.57 0 0 1-.893-.634C3.652 8.059 2.386 6.119 2.18 2.04Z",fill:"#6AFF52"})),s||(s=a.createElement("path",{d:"M5.34 9.393c.286.226.585.435.893.634 0-.32 1.473-1.527 2.833-1.527l-1.133-.567-2.593 1.46Z"})))}},28445:function(e,t,i){i.d(t,{Z:function(){return eo}});var n,s,a,o,r,l,c,d=i(85893),u=i(87357),p=i(98456),h=i(86886),f=i(67720),m=i(11163),g=i.n(m),x=i(67294),v=i(42245),y=i(21023),w=i(91535),j=i(56693),Z=i(93946),b=i(34386),C=i(15861),O=i(51233),P=i(87918),q=i(40902),V=i(53984),k=i(79361),M=i(46695),I=i(10562);function S(){return(S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var N=function(e){return x.createElement("svg",S({width:16,height:3,fill:"inherit",xmlns:"http://www.w3.org/2000/svg"},e),s||(s=x.createElement("path",{d:"M1 1.5h14",stroke:"inherit",strokeWidth:2,strokeLinecap:"round"})))},E=i(2730);function T(){return(T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var L=function(e){return x.createElement("svg",T({width:19,height:19,fill:"inherit",xmlns:"http://www.w3.org/2000/svg"},e),a||(a=x.createElement("path",{d:"M8.448 10.307a10.194 10.194 0 0 0-5.763 1.425c-.697.412-1.101 1.188-1.101 2.003v1.306c0 .436.356.792.792.792h6.539a5.513 5.513 0 0 1-.467-5.526ZM7.917 9.5a3.167 3.167 0 1 0 0-6.333 3.167 3.167 0 0 0 0 6.333ZM16.427 12.667c0-.174-.024-.333-.048-.499l.665-.578a.398.398 0 0 0 .08-.499l-.468-.807a.386.386 0 0 0-.467-.174l-.84.285a2.889 2.889 0 0 0-.854-.5l-.174-.862a.398.398 0 0 0-.388-.317h-.934a.398.398 0 0 0-.388.317l-.175.863a2.889 2.889 0 0 0-.854.499l-.84-.285a.393.393 0 0 0-.467.174l-.467.807a.398.398 0 0 0 .08.5l.664.577c-.023.166-.047.325-.047.499s.024.332.047.498l-.665.578a.398.398 0 0 0-.079.5l.467.807a.387.387 0 0 0 .467.174l.84-.285c.253.214.538.38.854.499l.175.862c.04.183.198.317.388.317h.934c.19 0 .348-.134.388-.317l.174-.862c.317-.12.602-.285.855-.5l.839.286a.392.392 0 0 0 .467-.174l.467-.808a.398.398 0 0 0-.079-.499l-.665-.578c.024-.166.047-.324.047-.498Zm-2.97 1.583c-.87 0-1.583-.712-1.583-1.583s.713-1.584 1.584-1.584c.87 0 1.583.713 1.583 1.584 0 .87-.712 1.583-1.583 1.583Z"})))};function R(){return(R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var D=function(e){return x.createElement("svg",R({width:11,height:11,fill:"inherit",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.056 2.444a2.444 2.444 0 1 1 4.888 0 2.444 2.444 0 0 1-4.888 0Zm0 3.667A3.056 3.056 0 0 0 0 9.167 1.833 1.833 0 0 0 1.833 11h7.334A1.833 1.833 0 0 0 11 9.167 3.055 3.055 0 0 0 7.944 6.11H3.056Z"})))};function H(){return(H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var A=function(e){return x.createElement("svg",H({width:14,height:15,fill:"inherit",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=x.createElement("path",{d:"M7 1.5v12m-6-6h12",stroke:"inherit",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))};function F(){return(F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var W=function(e){return x.createElement("svg",F({width:15,height:15,fill:"inherit",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=x.createElement("path",{d:"M14.625 13.833a.792.792 0 0 1-.792.792H1.167a.792.792 0 1 1 0-1.583h12.666c.438 0 .792.354.792.791ZM4.333 6.917a1 1 0 0 0-1-1H2.167a1 1 0 0 0-1 1v3.541a1 1 0 0 0 1 1h1.166a1 1 0 0 0 1-1V6.917Zm4.75-5.542a1 1 0 0 0-1-1H6.917a1 1 0 0 0-1 1v9.083a1 1 0 0 0 1 1h1.166a1 1 0 0 0 1-1V1.375Zm4.75 2.375a1 1 0 0 0-1-1h-1.166a1 1 0 0 0-1 1v6.708a1 1 0 0 0 1 1h1.166a1 1 0 0 0 1-1V3.75Z"})))},z=i(20243),$=i(618),_=i(88782),U=i(14789),G=i(97387),K=i(79786),B=i(87658),J=i(91166);(n=c||(c={})).StatisticsV1V2="Statistics",n.ManagePositionV1="Manage Position",n.HarvestRewardsV1="Harvest Rewards",n.ClaimRewardsV2="Claim Fees",n.NewPositionV2="New Position",n.MyPositionsV2="My Positions",n.ViewNFT="View NFT",n.IncreaseLiquidityV2="Increase Liquidity",n.DecreaseLiquidityV2="Decrease Liquidity",n.SettingsV2="Settings";let Q={statistics:"Statistics","manage-position":"Manage Position",withdraw:"Manage Position","harvest-rewards":"Harvest Rewards","new-position":"New Position","my-positions":"My Positions",increase:"Increase Liquidity",decrease:"Decrease Liquidity",claim:"Claim Fees",nft:"View NFT",settings:"Settings"},X=e=>{let{pool:t,sx:i}=e,{data:{rewardAprPercent:n}={}}=(0,q.V)(t),s=(0,V.vT)(t instanceof z.sO);return(null==n?void 0:n.greaterThan(0))?(0,d.jsx)(b.Z,{title:s.helperText,children:(0,d.jsxs)(O.Z,{direction:"row",display:"flex",alignItems:"center",spacing:1,sx:{cursor:"default",userSelect:"none",...i},children:[(0,d.jsx)(P.Z,{size:"small",className:"active",color:"primary",variant:"filled",label:t instanceof z.sO?(0,d.jsx)(I.Z,{style:{paddingTop:1.5,transform:"scale(0.95)"}}):(0,d.jsx)(C.Z,{sx:{fontSize:14,color:"custom.green",fontWeight:"500"},children:"LARI"})}),(0,d.jsxs)(C.Z,{pl:.5,color:"custom.green",fontSize:12,children:[s.type," Available"]})]})}):null};var Y=e=>{let{pool:t}=e,[i,n]=(0,x.useState)(""),{isXSmall:s}=(0,M.l)(),a=t instanceof z.sO,o=g().pathname.split("/"),r=o[o.length-1],l=t.contractId||"-1";t.id;let{poolContractId:c="",positionSN:p="",positionNftTokenId:h=$.VW[$.VW.length-1]}=g().query,f=parseInt(p,10),{data:m}=(0,k.nr)(f,h),{data:{totalAprPercent:v}={}}=(0,q.V)(t),O=(0,x.useMemo)(()=>Q[r]||(f?"Increase Liquidity":"Statistics"),[r,f]),[P,V]=(0,x.useState)(O);(0,x.useEffect)(()=>{V(O)},[O]),(0,x.useEffect)(()=>{"-1"!==c&&n(c)},[c]);let I=f||"-1"===c?f||"-1"!==c?"/liquidity/".concat(l,"/my-positions?positionNftTokenId=").concat(h):"/liquidity/".concat(i):"/liquidity",S=[{page:"/liquidity/".concat(l,"/"),value:"Statistics",icon:(0,d.jsx)(W,{}),disabled:-1===t.id,overrideComponent:_.t$},{page:"/liquidity/".concat(l,"/manage-position"),value:"Manage Position",icon:(0,d.jsx)(L,{}),disabled:-1===t.id,overrideComponent:_.t$},{page:"/liquidity/".concat(l,"/harvest-rewards"),value:"Harvest Rewards",icon:(0,d.jsx)(E.Z,{}),disabled:-1===t.id,overrideComponent:_.t$}],T=[{page:"/liquidity/".concat(l,"/"),value:"Statistics",icon:(0,d.jsx)(W,{}),overrideComponent:_.t$},{page:"/liquidity/".concat(l,"/new-position"),value:"New Position",icon:(0,d.jsx)(A,{}),overrideComponent:_.t$},{page:"/liquidity/".concat(l,"/my-positions"),value:"My Positions",icon:(0,d.jsx)(D,{}),overrideComponent:_.t$}],R=h!==$.VW[$.VW.length-1],H=R?[]:[{page:"/liquidity/".concat(l,"/my-positions/").concat(f,"?positionNftTokenId=").concat(h),value:"Increase Liquidity",icon:(null==m?void 0:m.isClosed)?(0,d.jsx)(N,{fill:"inherit"}):(0,d.jsx)(A,{stroke:"inherit"}),label:(null==m?void 0:m.isClosed)?"Closed Position":"",...(null==m?void 0:m.isClosed)&&{activeColor:"error.main",backgroundColor:""}}];return m&&m.isClosed||(H.push({page:"/liquidity/".concat(l,"/my-positions/").concat(f,"/decrease?positionNftTokenId=").concat(h),value:"Decrease Liquidity",icon:(0,d.jsx)(N,{fill:"inherit"})}),R||H.push({page:"/liquidity/".concat(l,"/my-positions/").concat(f,"/claim?positionNftTokenId=").concat(h),value:"Claim Fees",icon:(0,d.jsx)(w.Z,{sx:{fill:"inherit",height:8,width:16}})},{page:"/liquidity/".concat(l,"/my-positions/").concat(f,"/nft?positionNftTokenId=").concat(h),value:"View NFT",icon:(0,d.jsx)(j.Z,{sx:{fill:"inherit",height:13,width:13}})})),(0,d.jsxs)(u.Z,{flex:1,children:[(0,d.jsx)(Z.Z,{sx:{mb:4},component:U.C,href:I,children:(0,d.jsx)(y.Z,{})}),(0,d.jsxs)(u.Z,{flexDirection:"row",display:"flex",justifyContent:"space-between",children:[(0,d.jsx)(J.ZP,{sx:{alignItems:"center",fontSize:22},pool:t,tokenDimension:46,otherChips:f?[{label:"Position ID: ".concat(f),color:(null==m?void 0:m.isClosed)?"error":"default",className:(null==m?void 0:m.isClosed)?"active":""},R?{label:"Migrate",color:"extended",className:"active"}:void 0].filter(e=>!!e):void 0}),(0,d.jsxs)(u.Z,{display:"flex",flexDirection:"column",sx:{justifyContent:{xs:"flex-start",sm:"space-between"},alignItems:"flex-end"},children:[(0,d.jsx)(b.Z,{title:(0,d.jsx)(B.oU,{pool:t}),children:(0,d.jsxs)(u.Z,{height:{xs:1,sm:"auto"},display:"flex",justifyContent:{xs:"flex-start",sm:"space-between"},flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-end",sm:"center"},mr:1,sx:{cursor:"default",userSelect:"none"},children:[(0,d.jsx)(C.Z,{lineHeight:1.25,variant:"subtitle1",fontSize:{xs:18,sm:20},fontWeight:500,color:"custom.mainDetail",children:"APR:"}),(0,d.jsxs)(C.Z,{lineHeight:{xs:1,sm:1.25},component:"span",variant:"h2",fontSize:{xs:15,sm:20},fontWeight:500,sx:{mt:{xs:2,sm:0},ml:{xs:0,sm:1}},children:[(0,K.T)({value:v}),!s&&"âœ¨"]})]})}),!s&&(0,d.jsx)(X,{pool:t,sx:{ml:2,mt:1}})]})]}),s&&(0,d.jsx)(X,{pool:t,sx:{mt:4}}),(0,d.jsx)(G.Z,{stackProps:{sx:{mt:6},spacing:2,rowGap:2},value:P,onChange:e=>{V(e)},options:(a?S:f?H:T).map((e,t)=>{let{value:i,page:n,icon:s,disabled:o,label:r,overrideComponent:l,...c}=e;return{label:r||i,value:i,icon:s,buttonProps:{disabled:o,sx:{py:2,px:3},component:U.C,href:n,page:t+1,...l?{uiKey:"statistics"+(a?"":"V2")}:{}},overrideComponent:l,...c}})})]})},ee=i(65074),et=i(63062),ei=i(19753),en=i(49004),es=i(91402),ea=i(44626),eo=e=>{let{children:t}=e,{poolContractId:i="",tokenIdA:n="",tokenIdB:s=""}=(0,m.useRouter)().query,{data:a}=(0,ei.Z)(i),{data:o}=(0,ee.ZP)((0,ea.r)(n)),{data:r}=(0,ee.ZP)((0,ea.r)(s)),l=a||(o&&r?new z.sO(-1,"",es.ih.fromRawAmount(o,0),es.ih.fromRawAmount(r,0),ee.xy):void 0),{data:c}=(0,et.Z)(o?(0,ea.r)(s):(0,ea.r)(n),{enabled:!l}),g=l?void 0:c,{dispatchSettings:x,settings:{localUnknownTokenIds:y=[]}}=(0,en.r)(),w=async e=>{x({type:"update",payload:{localUnknownTokenIds:[...y,e.address]}})};return l?(0,d.jsxs)(u.Z,{flex:1,sx:{mt:{sm:-5}},children:[(0,d.jsx)(h.ZP,{container:!0,columns:45,children:(0,d.jsx)(h.ZP,{item:!0,xs:45,lg:29,display:"flex",children:(0,d.jsx)(Y,{pool:l})})}),(0,d.jsx)(f.Z,{sx:{my:{xs:7,sm:9}}}),t]}):(0,d.jsxs)(u.Z,{display:"flex",justifyContent:"center",alignSelf:"center",children:[g&&(0,d.jsx)(v.n,{isOpen:!!g,onClose:()=>{},onAccept:w,token:g}),(0,d.jsx)(p.Z,{})]})}}}]);